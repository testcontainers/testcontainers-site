{{/*
- partial: tweets
  title: Lorem ipsum
  tweets:
    - url: /
      name: Lorem ipsum
      handle: "@loremipsum"
      profileImage: https://pbs.twimg.com/profile_images/12345.jpg
      attachment: 
        type: image
        image: /images/tweets/mind-blown.jpg
      content: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
*/}}
<section class="tweets">
  <div class="container">
    <h2>{{ .section.title }}</h2>
    <div>
      <div class="glide">
        <div class="glide__arrows" data-glide-el="controls">
          <button class="glide__arrow glide__arrow--left" data-glide-dir="|<">
            <span class="sr-only">Previous</span>
            <svg class="icon-caret" height="10" viewBox="0 0 10 10">
              <use href="#icon-caret"></use>
            </svg>
          </button>
          <button class="glide__arrow glide__arrow--right" data-glide-dir="|>">
            <span class="sr-only">Next</span>
            <svg class="icon-caret" height="10" viewBox="0 0 10 10">
              <use href="#icon-caret"></use>
            </svg>
          </button>
        </div>
        <div class="glide__track" data-glide-el="track">
          <ul class="glide__slides">
            {{ range .section.tweets }}
              <li class="glide__slide">
                <div class="tweet">
                  <a class="link" href="{{ .url }}"></a>
                  <div class="header">
                    <img class="image" src="{{ .profileImage }}" width="50" height="50" loading="lazy">
                    <div class="name">{{ .name }}</div>
                    <div class="handle">{{ .handle }}</div>
                    {{ partial "img.html" (dict "image" (resources.Get "/images/twitter.svg") "alt" "Twitter" "class"
                    "logo") }}
                  </div>
                  <div class="content">
                    {{ .content | markdownify }}
                  </div>
                  {{ with .attachment }}
                    {{ if eq .type "image" }}
                      <div class="attachment">
                        <a class="link" href="{{ .url }}"></a>
                        {{ partial "img.html" (dict "image" (resources.Get .image) "alt" "Twitter") }}
                      </div>
                    {{ else if eq .type "tweet" }}
                      <div class="attachment">
                        <a class="link" href="{{ .url }}"></a>
                        <div class="header">
                          <img class="image" src="{{ .profileImage }}" width="50" height="50" loading="lazy">
                          <div class="name">{{ .name }}</div>
                          <div class="handle">{{ .handle }}</div>
                        </div>
                        <div class="content">
                          {{ .content | markdownify }}
                        </div>
                      </div>
                    {{ end }}
                  {{ end }}
                </div>
              </li>
            {{ end }}
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>